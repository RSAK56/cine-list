This is a [Next.js](https://nextjs.org/) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/basic-features/font-optimization) to automatically optimize and load Inter, a custom Google Font.

## TMDB API Key

This project uses TMDB for fetching and movies.

You can log into [TMDB](https://www.themoviedb.org/login) to create and account and get your API key.

After signin you can visit API section under user settings and generate an API key which can be used inside the local env file as:

```
TMDB_API_KEY
```

## Configure Next Auth

This project uses next Auth for the user to authenticate.

Github authentication is linked to the application using GitHubProvider by Next Auth. Can be seen in the following directory:

```
src
└── app
└── api
└── auth
└── [...nextauth]
└── routes.ts
```

Add the following enviorement variables inside the local env file:

```
<!-- Set it to be your localhost for local dev server -->
NEXTAUTH_URL

<!-- Generate a random base64 number for the secrect  -->
NEXTAUTH_SECRET
```

Use the following command to generate a random base64 secret:

```bash
# Generate rendom base64
openssl rand -base64 32
```

Copy the generated base64 secret and paste it as Next Auth secret.

Configure Github OAuth application to link your application to the github for GithubProvider authentication:

- Go to [GitHub Developer Settings](https://github.com/settings/developers)
- Create a new OAuth application
- Set the homepage url to `http://localhost:3000`
- Set the authorization callback URL to `http://localhost:3000/api/auth/callback/github`
- Register the application
- Generate a client ID and client secret
- Add the following generated keys against enviorement variables inside the local env file:

```
GITHUB_ID
GITHUB_SECRET
```

## Setup SQLite Database with Prisma ORM

This project uses SQLite as the database and Prisma as the ORM. To set up the database, you need to run the following commands:

```bash
# install prisma
npm i -D prisma

# install prisma client to interact with
npm i @prisma/client

# initialize prisma in your work directory
npx prisma init

# this will generate a .env file if not exists with DATABASE_URL, which if you're not using you can replace it with given url below
# manually update the datasoruce in schema inside prisma directory generated by setting the following:
provider = "sqlite"
url = "file:./dev.db"

# or

# initialize prisma in your work directory with sqlite as datasource provider
npx prisma init --datasource-provider sqlite
```

Once you have installed and setup prisma you can create models inside the schema to migrate:

```bash
# run migration to the
npx prisma migrate dev
```

Enter migration name after that. It will generate a sequel file which can be viewed under prisma directory.

You can view your data in prisma client:

```bash
# start client server for prisma studio
npx prisma studio
```

Visit the URL provided by the above scrip execution.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js/) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/deployment) for more details.
